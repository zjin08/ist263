<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embracing Your Unique Self</title>
    <link rel="stylesheet" href="../project06/fat-style.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ysabeau&display=swap" rel="stylesheet">
</head>
<style>
    body{
        font-family: 'Ysabeau', sans-serif;
    }
    nav{
        font-weight: 600;
    }
    .labels {
        display: flex;
        flex-wrap: wrap;
    }
    .video {
        flex: 3;
        margin: 0px 50px 0px 10px;
    }
    .comments {
        flex: 1;
    }
    video {
        max-width: 100%;
    }
    .story {
        background-color: #ebebeb87;
        border-radius: 10px;
        margin: 10px 10px 0px 0px;
        padding: 20px;
    }
    @media only screen and (max-width: 800px) {
            nav {margin-bottom: 5px;}
            .topics {display: block;}
            .nav {justify-content: flex-start;}
            .navsplit1 {display: none;}
        }
</style>

<body>
    <div>
        <a href="#main" class="skip" tabindex="1">Skip to Content</a> <!-- bookmark links jump you around the page -->
    </div>
    <nav>
        <div class="nav">
            <div class="navsplit1">
                <a href="discover.html">Embracing Your Unique Self</a>
            </div>
            <div class="navsplit2">
                <div><a href="discover.html">Discover</a></div>
                <div><a href="explore.html">Explore</a></div>
                <div><a href="unleash.html">Unleash</a></div>
            </div>
        </div>
    </nav>

    <main>
        <div class="labels">
            <div class="video">
                <h1>Don't Define by Labels</h1>
                <p>introduction about the video "Don't Define by Labels". Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem architecto doloribus fugiat, vero ipsa dignissimos consequuntur voluptate iusto quod voluptas debitis laboriosam! Expedita numquam eum nemo reiciendis fugit voluptatibus eligendi! Lorem, ipsum dolor sit amet consectetur adipisicing elit. Id molestiae debitis fugit dignissimos, incidunt placeat perspiciatis possimus deleniti numquam animi. Nesciunt odit non tenetur molestiae est ad vel inventore magnam? Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto, ut delectus? Consectetur, dolorum harum? Labore odio quam repudiandae quis. Tempora reprehenderit ex quia repellendus, harum atque! Omnis vero dolor laudantium.</p>
                <video controls>
                    <source src="../images/labels_480p.mp4" type="video/mp4">
                </video>
        
                <div class="story">
                    <form action="https://formspree.io/f/mqkopqnl" method="post">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="Name">
            
                        <label for="email">Email:</label>
                        <input type="text" id="email" name="Email">
                        <br><br>
            
                        <label for="share">Share your Story:</label><br>
                        <textarea id="share" name="Share your story" rows="10" cols="80"></textarea>
                        <br>
            
                        <input type="submit" value="submit">
                    </form>
                </div>
            </div>

            <div class="comments">
                <h2>Comments</h2>
                    <div id="comments"></div>
                        <form id="comment-form">
                            <label for="comment">Comment:</label> <br>
                            <textarea id="comment" name="comment" rows="10" cols="30"></textarea><br><br>
                            <button type="submit">Submit</button>
                        </form>   
                    <script>
                        // Get a reference to the comments collection on GitHub
                        var commentsRef = "https://api.github.com/repos/zjin08/ist263/project/project07/issues/comments";

                        // Listen for form submit
                        document.getElementById("comment-form").addEventListener("submit", submitForm);

                        // Submit form
                        function submitForm(event) {
                        event.preventDefault();
                        // Get input values
                        var name = getInputValue("name-input");
                        var comment = getInputValue("comment-input");
                        // Save comment
                        saveComment(name, comment);
                        // Clear form
                        document.getElementById("comment-form").reset();
                        }

                        // Function to get form input values
                        function getInputValue(id) {
                        return document.getElementById(id).value;
                        }

                        // Function to save comment to GitHub
                        function saveComment(name, comment) {
                        var data = JSON.stringify({ body: comment });
                        fetch(commentsRef, {
                            method: "POST",
                            headers: {
                            "Content-Type": "application/json",
                            "Authorization": "token your-github-token"
                            },
                            body: data
                        })
                        .then(response => response.json())
                        .then(data => console.log(data))
                        .catch(error => console.error(error));
                        }

                        // Retrieve comments from GitHub and update comments list
                        fetch(commentsRef, {
                        method: "GET",
                        headers: {
                            "Content-Type": "application/json",
                            "Authorization": "token your-github-token"
                        }
                        })
                        .then(response => response.json())
                        .then(data => {
                        var commentsList = document.getElementById("comments-list");
                        data.forEach(comment => {
                            var commentElement = document.createElement("div");
                            commentElement.innerHTML = "<strong>" + comment.user.login + ":</strong> " + comment.body;
                            commentsList.appendChild(commentElement);
                        });
                        })
                        .catch(error => console.error(error));

                    </script>
            </div>
        </div>

    </main>

    <footer>
        <hr>
        &copy;2023
    </footer>
</body>
</html>